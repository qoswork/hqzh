<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<id>server-dist-assembly</id>
	<formats>
		<format>tar.gz</format>
	</formats>

	<fileSets>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<excludes>
				<exclude>**/*.sh</exclude>
				<exclude>**/*.pl</exclude>
				<exclude>**/.gitignore</exclude>
				<exclude>**/*.jar</exclude>
				<exclude>**/*.keystore</exclude>
			</excludes>
			<filtered>true</filtered>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>**/*.sh</include>
				<include>**/*.pl</include>
			</includes>
			<filtered>true</filtered>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>**/*.jar</include>
				<include>**/*.keystore</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/support-${project.version}</directory>
			<outputDirectory>/support</outputDirectory>
			<excludes>
				<exclude>**/*.sh</exclude>
				<exclude>**/*.py</exclude>
				<exclude>**/*$py.class</exclude>
				<exclude>**/*.pyc</exclude>
				<exclude>**/.gitignore</exclude>
			</excludes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/support-${project.version}</directory>
			<outputDirectory>/support</outputDirectory>
			<includes>
				<include>**/*.sh</include>
				<include>**/*.py</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/bootstrap-${project.version}</directory>
			<outputDirectory>/</outputDirectory>
			<excludes>
				<exclude>**/*.sh</exclude>
				<exclude>**/*.pl</exclude>
				<exclude>**/.gitignore</exclude>
				<exclude>wrapper/**/*</exclude>
			</excludes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/bootstrap-${project.version}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>**/*.sh</include>
				<include>**/*.pl</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/bootstrap-${project.version}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>wrapper/**/*</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		 <fileSet>
			<directory>${project.build.directory}/generated-resources/apache-tomcat-${tomcat.version}</directory>
			<outputDirectory>/hq-engine/hq-server</outputDirectory>
			<excludes>
				<exclude>**/*.sh</exclude>
				<exclude>**/*.pl</exclude>
				<exclude>**/.gitignore</exclude>
				<exclude>conf/logging.properties</exclude>
				<exclude>webapps/**</exclude>
			</excludes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/generated-resources/apache-tomcat-${tomcat.version}</directory>
			<outputDirectory>/hq-engine/hq-server</outputDirectory>
			<includes>
				<include>**/*.sh</include>
				<include>**/*.pl</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
	</fileSets>

	<dependencySets>
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<outputDirectory>/hq-engine/hq-server/lib</outputDirectory>
			<includes>
				<include>log4j:log4j</include>
			</includes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
		
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<outputDirectory>/hq-engine/hq-server/webapps/ROOT</outputDirectory>
			<unpack>true</unpack>
			<includes>
				<include>org.hyperic.hq:hq-web</include>
			</includes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
	</dependencySets>

</assembly>